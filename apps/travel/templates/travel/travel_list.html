{% extends "base.html" %}
{% block title %}Available Travel Options{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold mb-6">Available Travel Options</h2>
<form method="get" class="mb-6 grid grid-cols-1 gap-3 md:flex md:space-x-3">

    <input type="text" name="source" placeholder="Source" value="{{ source }}"
        class="border p-2 rounded w-full md:w-1/4">


    <input type="text" name="destination" placeholder="Destination" value="{{ destination }}"
        class="border p-2 rounded w-full md:w-1/4">


    <select name="type" class="border p-2 rounded w-full md:w-1/4">
        <option value="" {% if selected_type == "" %}selected{% endif %}>All Options</option>
        <option value="bus" {% if selected_type == "bus" %}selected{% endif %}>Bus</option>
        <option value="flight" {% if selected_type == "flight" %}selected{% endif %}>Flight</option>
        <option value="train" {% if selected_type == "train" %}selected{% endif %}>Train</option>
    </select>


    <input type="date" name="date" value="{{ date }}" class="border p-2 rounded w-full md:w-1/4">


    <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 w-full md:w-auto">
        Search
    </button>
</form>


<div class="grid md:grid-cols-3 gap-6">
    {% for travel in travel_options %}
    <div class="bg-white shadow rounded-lg p-4 hover:shadow-lg transition">
        <h3 class="text-lg font-bold">{{ travel.type|title }}: {{ travel.source }} → {{ travel.destination }}</h3>
        <p class="text-gray-600">Departure: {{ travel.departure_datetime|date:"M d, Y H:i" }}</p>
        <p class="text-gray-600">Price: ₹{{ travel.price }}</p>
        <p class="text-gray-600">Seats Left: {{ travel.available_seats }}</p>
        <a href="{% url 'travel_detail' travel.travel_id %}"
            class="mt-3 inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
            View Details
        </a>
    </div>
    {% empty %}
    <p>No travel options available.</p>
    {% endfor %}
</div>
{% endblock %}